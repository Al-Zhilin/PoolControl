# *Pool Control*
## *Система автоматизации нагрева бассейнов на esp32*

### *Оглавление:*
- [**Вступление:**](#вступление)
- [**Теория:**](#теория)
  -  [Типы способов обогрева бассейнов:](#типы-способов-обогрева-бассейнов)
  -  [Различные варианты и их плюсы/минусы:](#различные-варианты-и-их-плюсыминусы)
  -  [Что выбрать?](#что-выбрать)
- [**Практика:**](#практика)
  - [Выбранный способ:](#выбранный-способ)
  - [Важные моменты:](#важные-моменты)
  - [Краткий обзор проекта:](#краткий-обзор-проекта)
  - [Нам понадобится:](#нам-понадобится)
---


### *Вступление:*
-  Так или иначе, каждый владелец частного бассейна или иного водоема для купания рано или поздно сталкивается с проблемой достижения и поддержанния комфортной для человека температуры воды. Для достижения нужной "теплоты" существует множество способов, "побыстрее" и "полегче". В разделе [Теория](#теория) мы рассмотрим **основные** способы и их +/-, а в [Практике](#практика) посмотрим на мою автоматизацию этого процесса с рассмотрением некоторых аспектов. 
---
## *Теория* 
### *Типы способов обогрева бассейнов:*
В целом, все варианты делятся на 2 типа - *`пассивные`* и *`активные`*.
  
  -  Пассивные, как правило, не требуют каких-либо дополнителных действий со стороны человека. В обобщенном случае это - просто установить бассейн в солнечное место и/или накрыть пленкой для уменьшения испарения воды. В частных случаях в пассивные способы можно записать постройку купола над водоемом, например, из [прозрачного поликарбоната](https://polygalvostok.ru/sotovyj-polikarbonat-chto-takoe/?ysclid=mb6cv6m3bl752955777), что так же уменьшает испарение воды и создает нагретое воздушное простанство вокруг, что так же ускоряет процесс достижения нужной температуры.
  -  Активные, которые подразумевают постоянные затраты каких-либо сил, например электрической энергии. Например, один из случаев - готовые электрические нагреватели. Циркуляция воды через теплоносители так же относиться к данному разделу.

Предлагаю расмотреть достоинства и недостатки каждого пункта в следующем разделе.

### *Различные варианты и их плюсы/минусы:*
-  Пассивные как правило характеризуются простотой, т.к. не требуют особо сложных или дорогих действий, но не подразумевают особо быстрого течения процесса. В зависимости от места установки, активности солнца и наличия купола/пленки над водой могут приносить разные результаты. Но все же это самая частоиспользуемая по статистике группа способов.

- Активные, напротив, требуют трудозатрат по возведению и установке дополнительных конструкций, но позволяют значительно ускорить процесс и увидеть заметный эффект. Этот раздел имеет множество специфичных способов, которые следует рассмотреть отдельно:

  - Готовые электрические нагреватели:
    - **"+"**: Самые простые в установке среди активных вариантов. В принципе на этом достоиства заканчиваются.

    - **"-"**: Очень большие затраты энергии. Мне доводилось иметь дело с одним нагревателем, который показал просто ужасные результаты: огромный расход электричества, нагрев всего, только не воды, практически незаметный в общей массе воды результат. Не могу утверждать, что все модели, представленные на рынке, такие же, но лично от себя не рекомендовал бы данный способ к использованию.


  - Теплообмен с домашней отопительной/нагревательной системой:
    - **"+"**: В теории производительная система, в большинстве случаев не требует больших трудозатрат по установке.

    - **"-"**: В частных случаях может быть сложна в установке, не подходит для участков, не оборудованных отопительной системой.

  - Циркуляция воды через теплообменник:
    - **"+"**" - По моему мнению, самый эффективный, жизнеспособный и гибкий способ. Возможно добиться при небольшом потреблении электро энергии довольно ощутимого эффекта.
    - **"-"** - На просторах интернета находиться множество вариантов реализации, в том числе и околонерабочих, поэтому нужно внимательно относиться к выбору.

    Этот способ подразумевает насос, перекачивающий воду бассейна через какой-либо теплообменник, который может, например, концентрировать в ограниченной площади солнечные лучи, или просто пассивно их "ловить". Включает в себя множество вариантов, в частности где теплоноситель нагревается от:
    - Сгорающего топлива (дрова, горючие смеси или материалы)
    - Солнечных лучей, которые могут быть сконцентрированны в области в некоторых вариантах реализации
    - Самодельного электрического нагревателя.
  

---
## *Практика*
### *Выбранный способ:*
- Мы будем использовать способ циркуляции воды через теплообменник, причем реализуем самый простой вариант. Разложим на какой-либо поверхности (например на крыше, получая тепло еще и с раскаленного материала кровли в таком случае) линию водопровода, например трубу или шланг. Оба конца "водопровода" соединяем с бассейном, причем на входе устанавливаем насос, который и будет перекачивать воду. Как итог, при высокой солнечной активности получаем значительную разницу температур входа и выхода (от 4 до 10 градусов в солнечную погоду). 

### *Важные моменты:*
- Если используем обычный шланг, разложенный на металлической крыше, то теперь нам ни в коем случае нельзя оставлять его под солнцем, иначе он попросту расплавиться и выйдет из строя
- Нам важно контролировать разницу температур, иначе при тучах и/или дожде КПД станет отрицательным (выходная вода системы станет холоднее входной). Если не автоматизировать систему датчиками и контроллером, то это придется делать вручную.
- Так же из предыдущего пункта вытакает, что систему рационально отключать при малой разнице температур во имя повышения общего КПД.

**Отсюда вытекает рациональное решение - поставить во главу системы микроконтроллер, который будет управлять насосом на основе данных датчиков температуры.**



### *Краткий обзор проекта:*
- Управление через `Telegram`
- Контроль за системой, основанной на передаче солнечной энергии
- Адаптивное управление позволяет повышать КПД нагрева
- Построение графиков на [OpenMonitoring](https://open-monitoring.online)
- Возможность удаленного обновления прошивки
- Управление Релейными модулями, возможность подключения и управления дополнительной нагрузкой
- Хранение важных настроек в энергонезависимой памяти
- Гибкая система настройки параметров управления под конкретный случай

### *Нам понадобится:*
